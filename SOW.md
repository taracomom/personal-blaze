# Personal Blaze - Statement of Work (SOW)

## プロジェクト概要

**プロジェクト名**: Personal Blaze  
**目的**: Text Blaze相当のクロスプラットフォーム対応テキストエクスパンダーツール開発  
**期間**: 18週間 (約4.5ヶ月)  
**技術スタック**: Electron + React + TypeScript + SQLite

## 成果物 (Deliverables)

### Phase 0: 要件確定・設計 (2週間)
- [x] 詳細仕様書
- [x] SOW
- [ ] プロジェクト構造設計
- [ ] データベーススキーマ設計
- [ ] API設計書
- [ ] UI/UXワイヤーフレーム

### Phase 1: Core Engine (4週間)
- [ ] Electronアプリケーション基盤
- [ ] システムトレイ統合
- [ ] グローバルキーボードフック (Windows/macOS)
- [ ] SQLiteデータベース実装
- [ ] 基本的なスニペットCRUD機能
- [ ] スラッシュコマンド展開エンジン

### Phase 2: 管理画面・セキュリティ (4週間)
- [ ] React管理画面UI
- [ ] スニペットエディタ (Monaco Editor)
- [ ] フォルダ・カテゴリ管理
- [ ] データベース暗号化 (AES-256)
- [ ] 設定ダイアログ
- [ ] localhost:9876 HTTPサーバー

### Phase 3: 高度機能 (4週間)
- [ ] 画像スニペット機能
- [ ] ダイナミック変数システム (`{formtext:}`, `{= now()}` 等)
- [ ] 条件分岐・計算式サポート
- [ ] Autopilot機能 (`{key:}`, `{click:}`)
- [ ] ブラウザ拡張 (Chrome/Edge)

### Phase 4: 仕上げ・配布 (4週間)
- [ ] インストーラー作成 (Windows/macOS)
- [ ] 自動更新機能
- [ ] エクスポート/インポート機能
- [ ] 包括的テスト
- [ ] ドキュメント作成
- [ ] 配布準備

## 技術要件

### 必須技術
- **Electron 28+**: メインアプリケーション
- **React 19**: UI フレームワーク  
- **TypeScript**: 型安全性
- **SQLite**: ローカルデータベース
- **Node.js**: バックエンドランタイム

### プラットフォーム固有技術
- **Windows**: SetWindowsHookEx (WH_KEYBOARD_LL)
- **macOS**: CGEventTapCreate
- **Chrome/Edge**: Manifest v3 拡張

### 依存ライブラリ
- `electron-auto-launch`: 自動起動
- `better-sqlite3`: SQLite インターフェース
- `express`: REST API サーバー
- `monaco-editor`: コードエディタ
- `react-router-dom`: SPA ルーティング

## 開発マイルストーン

| 週 | フェーズ | 主要作業 | 成果物 |
|---|---|---|---|
| 1-2 | P0 | 設計・プロトタイプ | 技術仕様・DB設計 |
| 3-6 | P1 | コアエンジン開発 | 動作するスニペット展開 |
| 7-10 | P2 | UI・セキュリティ | 完全な管理画面 |
| 11-14 | P3 | 高度機能実装 | 画像・計算式・拡張 |
| 15-18 | P4 | テスト・配布準備 | リリース可能製品 |

## 品質基準

### 性能要件
- スニペット展開遅延: ≤ 50ms
- アプリ起動時間: ≤ 3秒
- メモリ使用量: ≤ 100MB (アイドル時)

### セキュリティ要件
- データベース AES-256 暗号化
- ローカルAPI認証
- 機密情報ログ出力禁止

### テスト要件
- コードカバレッジ: ≥ 80%
- 単体テスト: Jest + @testing-library
- E2Eテスト: Playwright
- 手動QA: 全主要機能

## リスク管理

### 高リスク
1. **OS APIアクセス権限**: macOS Accessibility許可
2. **キーボードフック競合**: 他アプリとの衝突
3. **Electron更新破綻**: ネイティブモジュール非互換

### 軽減策
1. 段階的権限取得UI
2. フック優先度設定
3. CI/CD自動テスト

## 成功基準

### 機能完成度
- [ ] 全プラットフォームでスラッシュ展開動作
- [ ] 管理画面完全機能
- [ ] 画像スニペット対応
- [ ] ブラウザ拡張連携

### 品質基準達成
- [ ] 自動テスト80%カバレッジ
- [ ] 主要OS (Windows 10/11, macOS 14+) 動作確認
- [ ] 性能要件クリア

### 配布準備完了  
- [ ] インストーラー作成
- [ ] ドキュメント整備
- [ ] セキュリティ監査完了

## 開発開始
2025年7月14日より開発を開始し、2025年12月初旬リリース予定で進行します。